// Code generated by iacg; DO NOT EDIT.
package wedata

import (
	"context"
	"strconv"

	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/resource"
	"github.com/hashicorp/terraform-plugin-sdk/v2/helper/schema"
	wedatav20250806 "github.com/tencentcloud/tencentcloud-sdk-go/tencentcloud/wedata/v20250806"
	tccommon "github.com/tencentcloudstack/terraform-provider-tencentcloud/tencentcloud/common"
	"github.com/tencentcloudstack/terraform-provider-tencentcloud/tencentcloud/internal/helper"
)

func DataSourceTencentCloudWedataQualityRuleGroupExecResults() *schema.Resource {
	return &schema.Resource{
		Read: dataSourceTencentCloudWedataQualityRuleGroupExecResultsRead,
		Schema: map[string]*schema.Schema{
			"project_id": {
				Type:        schema.TypeString,
				Required:    true,
				Description: "Project ID.",
			},

			"filters": {
				Type:        schema.TypeList,
				Optional:    true,
				Description: "Filter conditions. Supported filters:\n1. GroupType - Rule group type: DEFAULT (default type), WORKFLOW_NODE (workflow node type)\n2. InstanceId - Rule group execution instance ID\n3. ParentInstanceId - Parent instance ID\n4. LifeCycleRunNum - Lifecycle run number\n5. InstanceStatus - Instance status: Waiting (INITIAL, EVENT_LISTENING, DEPENDENCE, ALLOCATED, LAUNCHED, BEFORE_ASPECT, ISSUED), Running (RUNNING, AFTER_ASPECT, WAITING_AFTER_ASPECT), Failed (FAILED, EXPIRED, KILL, KILLING, PENDING), Success (COMPLETED)\n6. DatasourceId - Data source ID\n7. DatasourceType - Data source type: 1-MYSQL, 2-HIVE, 3-DLC, 4-GBASE, 5-TCHouse-P/CDW, 6-ICEBERG, 7-DORIS, 8-TCHouse-D, 9-EMR_STARROCKS, 10-TBDS_STARROCKS, 11-TCHouse-X\n8. DatabaseName - Database name\n9. DatabaseId - Database ID\n10. SchemaName - Schema name\n11. ReceiverFlag - Whether it is the current user's subscription: true/false\n12. TableName - Table name (supports fuzzy matching)\n13. RuleGroupName - Rule group name\n14. RuleGroupExecId - Rule group execution ID\n15. RuleGroupTableId - Rule group table ID\n16. Keyword - Keyword search (rule group execution ID, table name, table owner)\n17. StartTime - Actual run start time (Unix timestamp)\n18. EndTime - Actual run end time (Unix timestamp)\n19. ScheduledStartTime - Scheduled start time (Unix timestamp)\n20. ScheduledEndTime - Scheduled end time (Unix timestamp)\n21. DsJobId - Data source job ID\n22. TriggerType - Trigger type: 1-Manual, 2-Schedule, 3-Periodic\n23. Status - Rule group execution status: 0-Initial, 1-Submitted, 2-Detecting, 3-Normal, 4-Abnormal, 5-Delivering, 6-Execution error, 7-Not detected\n24. TableIds - Table ID collection\n25. RuleGroupId - Rule group ID\n26. BizCatalogIds - Business catalog ID\n27. CatalogName - Data catalog name.",
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"name": {
							Type:        schema.TypeString,
							Optional:    true,
							Description: "Filter field name.",
						},
						"values": {
							Type:        schema.TypeSet,
							Optional:    true,
							Description: "Filter value list.",
							Elem: &schema.Schema{
								Type: schema.TypeString,
							},
						},
					},
				},
			},

			"order_fields": {
				Type:        schema.TypeList,
				Optional:    true,
				Description: "Sort fields. Supported fields: CreateTime (sort by creation time), UpdateTime (sort by update time, default). Sort direction: 1-ASC, 2-DESC.",
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"name": {
							Type:        schema.TypeString,
							Required:    true,
							Description: "Sort field name.",
						},
						"direction": {
							Type:        schema.TypeString,
							Required:    true,
							Description: "Sort direction: ASC|DESC.",
						},
					},
				},
			},

			"data": {
				Type:        schema.TypeList,
				Computed:    true,
				Description: "Rule group execution result list.",
				Elem: &schema.Resource{
					Schema: map[string]*schema.Schema{
						"total_count": {
							Type:        schema.TypeInt,
							Optional:    true,
							Description: "Total count.",
						},
						"items": {
							Type:        schema.TypeList,
							Optional:    true,
							Description: "Rule group execution results.",
							Elem: &schema.Resource{
								Schema: map[string]*schema.Schema{
									"rule_group_exec_id": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Rule group execution ID.",
									},
									"rule_group_id": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Rule group ID.",
									},
									"trigger_type": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Execution trigger type: 1-Manual trigger, 2-Schedule trigger, 3-Periodic schedule trigger.",
									},
									"exec_time": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Execution time yyyy-MM-dd HH:mm:ss.",
									},
									"status": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Execution status: 1-Submitted, 2-Detecting, 3-Normal, 4-Abnormal.",
									},
									"alarm_rule_count": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Abnormal rule count.",
									},
									"total_rule_count": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Total rule count.",
									},
									"table_owner_name": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Source table owner.",
									},
									"table_name": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Source table name.",
									},
									"table_id": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Table ID.",
									},
									"database_id": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Database ID.",
									},
									"datasource_id": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Data source ID.",
									},
									"permission": {
										Type:        schema.TypeBool,
										Optional:    true,
										Description: "Permission status.",
									},
									"exec_detail": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Execution details, schedule plan or associated production task ID.",
									},
									"engine_type": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Actual execution engine.",
									},
									"rule_exec_result_vo_list": {
										Type:        schema.TypeList,
										Optional:    true,
										Description: "Rule execution results.",
										Elem: &schema.Resource{
											Schema: map[string]*schema.Schema{
												"rule_exec_id": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Rule execution ID.",
												},
												"rule_group_exec_id": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Rule group execution ID.",
												},
												"rule_group_id": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Rule group ID.",
												},
												"rule_id": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Rule ID.",
												},
												"rule_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Rule name.",
												},
												"rule_type": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Rule type: 1-System template, 2-Custom template, 3-Custom SQL.",
												},
												"source_object_data_type_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Source field detailed type (int, string).",
												},
												"source_object_value": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Source field name.",
												},
												"condition_expression": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Condition scan WHERE expression.",
												},
												"exec_result_status": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Detection result: 1-Passed, 2-Triggered rule, 3-Detection failed.",
												},
												"trigger_result": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Trigger result (alarm sent successfully, task blocked successfully).",
												},
												"compare_result": {
													Type:        schema.TypeList,
													Optional:    true,
													MaxItems:    1,
													Description: "Comparison result.",
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{
															"items": {
																Type:        schema.TypeList,
																Required:    true,
																Description: "Comparison result item list.",
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{
																		"fix_result": {
																			Type:        schema.TypeInt,
																			Required:    true,
																			Description: "Comparison result: 1-True, 2-False.",
																		},
																		"result_value": {
																			Type:        schema.TypeString,
																			Required:    true,
																			Description: "Quality SQL execution result.",
																		},
																		"values": {
																			Type:        schema.TypeList,
																			Required:    true,
																			Description: "Threshold list.",
																			Elem: &schema.Resource{
																				Schema: map[string]*schema.Schema{
																					"value_type": {
																						Type:        schema.TypeInt,
																						Optional:    true,
																						Description: "Threshold type: 1-Low threshold, 2-High threshold, 3-Normal threshold, 4-Enum value.",
																					},
																					"value": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Threshold value.",
																					},
																				},
																			},
																		},
																		"operator": {
																			Type:        schema.TypeString,
																			Required:    true,
																			Description: "Comparison operator type.",
																		},
																		"compare_type": {
																			Type:        schema.TypeInt,
																			Required:    true,
																			Description: "Comparison type.",
																		},
																		"value_compute_type": {
																			Type:        schema.TypeInt,
																			Required:    true,
																			Description: "Value comparison type.",
																		},
																	},
																},
															},
															"total_rows": {
																Type:        schema.TypeInt,
																Required:    true,
																Description: "Total rows count.",
															},
															"pass_rows": {
																Type:        schema.TypeInt,
																Required:    true,
																Description: "Passed rows count.",
															},
															"trigger_rows": {
																Type:        schema.TypeInt,
																Required:    true,
																Description: "Failed rows count.",
															},
															"compute_expression": {
																Type:        schema.TypeString,
																Optional:    true,
																Description: "Comparison relationship.",
															},
														},
													},
												},
												"template_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Template name.",
												},
												"quality_dim": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Quality dimension.",
												},
												"target_db_table_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Target table - database table name.",
												},
												"target_object_value": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Target table - field name.",
												},
												"target_object_data_type": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Target table - field type.",
												},
												"field_config": {
													Type:        schema.TypeList,
													Optional:    true,
													MaxItems:    1,
													Description: "Custom template SQL expression parameters.",
													Elem: &schema.Resource{
														Schema: map[string]*schema.Schema{
															"where_config": {
																Type:        schema.TypeList,
																Optional:    true,
																Description: "WHERE variables.",
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{
																		"field_key": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Field key.",
																		},
																		"field_value": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Field value.",
																		},
																		"field_data_type": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Field value type.",
																		},
																		"value_config": {
																			Type:        schema.TypeList,
																			Optional:    true,
																			MaxItems:    1,
																			Description: "Field value variable information.",
																			Elem: &schema.Resource{
																				Schema: map[string]*schema.Schema{
																					"field_key": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Field value key.",
																					},
																					"field_value": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Field value.",
																					},
																					"field_data_type": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Field value type.",
																					},
																				},
																			},
																		},
																	},
																},
															},
															"table_config": {
																Type:        schema.TypeList,
																Optional:    true,
																Description: "Database table variables.",
																Elem: &schema.Resource{
																	Schema: map[string]*schema.Schema{
																		"database_id": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Database ID.",
																		},
																		"database_name": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Database name.",
																		},
																		"table_id": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Table ID.",
																		},
																		"table_name": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Table name.",
																		},
																		"table_key": {
																			Type:        schema.TypeString,
																			Optional:    true,
																			Description: "Table key.",
																		},
																		"field_config": {
																			Type:        schema.TypeList,
																			Optional:    true,
																			Description: "Field variables.",
																			Elem: &schema.Resource{
																				Schema: map[string]*schema.Schema{
																					"field_key": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Field key.",
																					},
																					"field_value": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Field value.",
																					},
																					"field_data_type": {
																						Type:        schema.TypeString,
																						Optional:    true,
																						Description: "Field value type.",
																					},
																					"value_config": {
																						Type:        schema.TypeList,
																						Optional:    true,
																						MaxItems:    1,
																						Description: "Field value variable information.",
																						Elem: &schema.Resource{
																							Schema: map[string]*schema.Schema{
																								"field_key": {
																									Type:        schema.TypeString,
																									Optional:    true,
																									Description: "Field value key.",
																								},
																								"field_value": {
																									Type:        schema.TypeString,
																									Optional:    true,
																									Description: "Field value.",
																								},
																								"field_data_type": {
																									Type:        schema.TypeString,
																									Optional:    true,
																									Description: "Field value type.",
																								},
																							},
																						},
																					},
																				},
																			},
																		},
																	},
																},
															},
														},
													},
												},
												"rel_condition_expr": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Source field and target field association condition ON expression.",
												},
												"start_time": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Execution time.",
												},
												"alarm_level": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Alarm level: 1-Low, 2-Medium, 3-High.",
												},
												"trigger_condition": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Trigger condition.",
												},
												"rule_group_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Task name.",
												},
												"datasource_id": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Data source ID.",
												},
												"datasource_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Data source name.",
												},
												"database_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Database name.",
												},
												"schema_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Schema name.",
												},
												"table_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Table name.",
												},
												"rule_group_exist": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Whether to block monitoring: 0-Block, 1-Not block.",
												},
												"datasource_type": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Data source type.",
												},
												"rule_group_table_id": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Data table ID.",
												},
												"monitor_type": {
													Type:        schema.TypeInt,
													Optional:    true,
													Description: "Monitor type: 1-Not configured, 2-Associated with production scheduling, 3-Offline periodic detection.",
												},
												"finish_time": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Execution end time.",
												},
												"group_type": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Monitor task type.",
												},
												"aspect_task_id": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Orchestration task ID.",
												},
												"catalog_name": {
													Type:        schema.TypeString,
													Optional:    true,
													Description: "Data catalog.",
												},
											},
										},
									},
									"database_name": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Database name.",
									},
									"rule_group_table_id": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Local rule table ID.",
									},
									"cluster_deploy_type": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Cluster deployment type.",
									},
									"instance_id": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Instance ID.",
									},
									"ds_env_type": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Database environment: 0-Undefined, 1-Production, 2-Development.",
									},
									"project_id": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Project ID.",
									},
									"project_name": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Project name.",
									},
									"instance_status": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Instance status.",
									},
									"start_time": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Instance start time.",
									},
									"finish_time": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Instance end time.",
									},
									"rule_group_name": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Monitor name.",
									},
									"rule_group_exist": {
										Type:        schema.TypeInt,
										Optional:    true,
										Description: "Whether to block monitoring: 0-Block, 1-Not block.",
									},
									"biz_catalog_name": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Category name.",
									},
									"biz_catalog_id": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Category ID.",
									},
									"fail_msg": {
										Type:        schema.TypeString,
										Optional:    true,
										Description: "Failure reason.",
									},
								},
							},
						},
					},
				},
			},

			"result_output_file": {
				Type:        schema.TypeString,
				Optional:    true,
				Description: "Used to save results.",
			},
		},
	}
}

func dataSourceTencentCloudWedataQualityRuleGroupExecResultsRead(d *schema.ResourceData, meta interface{}) error {
	defer tccommon.LogElapsed("data_source.tencentcloud_wedata_quality_rule_group_exec_results.read")()
	defer tccommon.InconsistentCheck(d, meta)()

	logId := tccommon.GetLogId(nil)
	ctx := tccommon.NewResourceLifeCycleHandleFuncContext(context.Background(), logId, d, meta)

	service := WedataService{client: meta.(tccommon.ProviderMeta).GetAPIV3Conn()}

	paramMap := make(map[string]interface{})
	if v, ok := d.GetOk("project_id"); ok {
		paramMap["ProjectId"] = helper.String(v.(string))
	}

	if v, ok := d.GetOk("filters"); ok {
		filtersSet := v.([]interface{})
		tmpSet := make([]*wedatav20250806.Filter, 0, len(filtersSet))
		for _, item := range filtersSet {
			filtersMap := item.(map[string]interface{})
			filter := wedatav20250806.Filter{}
			if v, ok := filtersMap["name"].(string); ok && v != "" {
				filter.Name = helper.String(v)
			}
			if v, ok := filtersMap["values"]; ok {
				valuesSet := v.(*schema.Set).List()
				for i := range valuesSet {
					values := valuesSet[i].(string)
					filter.Values = append(filter.Values, helper.String(values))
				}
			}
			tmpSet = append(tmpSet, &filter)
		}
		paramMap["Filters"] = tmpSet
	}

	if v, ok := d.GetOk("order_fields"); ok {
		orderFieldsSet := v.([]interface{})
		tmpSet := make([]*wedatav20250806.OrderField, 0, len(orderFieldsSet))
		for _, item := range orderFieldsSet {
			orderFieldsMap := item.(map[string]interface{})
			orderField := wedatav20250806.OrderField{}
			if v, ok := orderFieldsMap["name"].(string); ok && v != "" {
				orderField.Name = helper.String(v)
			}
			if v, ok := orderFieldsMap["direction"].(string); ok && v != "" {
				orderField.Direction = helper.String(v)
			}
			tmpSet = append(tmpSet, &orderField)
		}
		paramMap["OrderFields"] = tmpSet
	}

	var respData *wedatav20250806.ListQualityRuleGroupExecResultsByPageResponseParams
	reqErr := resource.Retry(tccommon.ReadRetryTimeout, func() *resource.RetryError {
		result, e := service.DescribeWedataQualityRuleGroupExecResultsByFilter(ctx, paramMap)
		if e != nil {
			return tccommon.RetryError(e)
		}
		respData = result
		return nil
	})
	if reqErr != nil {
		return reqErr
	}

	dataMap := map[string]interface{}{}
	ids := []string{}

	if respData.Data != nil {
		if respData.Data.TotalCount != nil {
			dataMap["total_count"] = respData.Data.TotalCount
		}

		itemsList := make([]map[string]interface{}, 0, len(respData.Data.Items))
		if respData.Data.Items != nil {
			for _, items := range respData.Data.Items {
				itemsMap := map[string]interface{}{}

				if items.RuleGroupExecId != nil {
					itemsMap["rule_group_exec_id"] = items.RuleGroupExecId
					ids = append(ids, strconv.FormatUint(*items.RuleGroupExecId, 10))
				}

				if items.RuleGroupId != nil {
					itemsMap["rule_group_id"] = items.RuleGroupId
				}

				if items.TriggerType != nil {
					itemsMap["trigger_type"] = items.TriggerType
				}

				if items.ExecTime != nil {
					itemsMap["exec_time"] = items.ExecTime
				}

				if items.Status != nil {
					itemsMap["status"] = items.Status
				}

				if items.AlarmRuleCount != nil {
					itemsMap["alarm_rule_count"] = items.AlarmRuleCount
				}

				if items.TotalRuleCount != nil {
					itemsMap["total_rule_count"] = items.TotalRuleCount
				}

				if items.TableOwnerName != nil {
					itemsMap["table_owner_name"] = items.TableOwnerName
				}

				if items.TableName != nil {
					itemsMap["table_name"] = items.TableName
				}

				if items.TableId != nil {
					itemsMap["table_id"] = items.TableId
				}

				if items.DatabaseId != nil {
					itemsMap["database_id"] = items.DatabaseId
				}

				if items.DatasourceId != nil {
					itemsMap["datasource_id"] = items.DatasourceId
				}

				if items.Permission != nil {
					itemsMap["permission"] = items.Permission
				}

				if items.ExecDetail != nil {
					itemsMap["exec_detail"] = items.ExecDetail
				}

				if items.EngineType != nil {
					itemsMap["engine_type"] = items.EngineType
				}

				ruleExecResultVOListList := make([]map[string]interface{}, 0, len(items.RuleExecResultVOList))
				if items.RuleExecResultVOList != nil {
					for _, ruleExecResultVOList := range items.RuleExecResultVOList {
						ruleExecResultVOListMap := map[string]interface{}{}

						if ruleExecResultVOList.RuleExecId != nil {
							ruleExecResultVOListMap["rule_exec_id"] = ruleExecResultVOList.RuleExecId
						}

						if ruleExecResultVOList.RuleGroupExecId != nil {
							ruleExecResultVOListMap["rule_group_exec_id"] = ruleExecResultVOList.RuleGroupExecId
						}

						if ruleExecResultVOList.RuleGroupId != nil {
							ruleExecResultVOListMap["rule_group_id"] = ruleExecResultVOList.RuleGroupId
						}

						if ruleExecResultVOList.RuleId != nil {
							ruleExecResultVOListMap["rule_id"] = ruleExecResultVOList.RuleId
						}

						if ruleExecResultVOList.RuleName != nil {
							ruleExecResultVOListMap["rule_name"] = ruleExecResultVOList.RuleName
						}

						if ruleExecResultVOList.RuleType != nil {
							ruleExecResultVOListMap["rule_type"] = ruleExecResultVOList.RuleType
						}

						if ruleExecResultVOList.SourceObjectDataTypeName != nil {
							ruleExecResultVOListMap["source_object_data_type_name"] = ruleExecResultVOList.SourceObjectDataTypeName
						}

						if ruleExecResultVOList.SourceObjectValue != nil {
							ruleExecResultVOListMap["source_object_value"] = ruleExecResultVOList.SourceObjectValue
						}

						if ruleExecResultVOList.ConditionExpression != nil {
							ruleExecResultVOListMap["condition_expression"] = ruleExecResultVOList.ConditionExpression
						}

						if ruleExecResultVOList.ExecResultStatus != nil {
							ruleExecResultVOListMap["exec_result_status"] = ruleExecResultVOList.ExecResultStatus
						}

						if ruleExecResultVOList.TriggerResult != nil {
							ruleExecResultVOListMap["trigger_result"] = ruleExecResultVOList.TriggerResult
						}

						compareResultMap := map[string]interface{}{}

						if ruleExecResultVOList.CompareResult != nil {
							itemsList2 := make([]map[string]interface{}, 0, len(ruleExecResultVOList.CompareResult.Items))
							if ruleExecResultVOList.CompareResult.Items != nil {
								for _, items := range ruleExecResultVOList.CompareResult.Items {
									itemsMap2 := map[string]interface{}{}

									if items.FixResult != nil {
										itemsMap2["fix_result"] = items.FixResult
									}

									if items.ResultValue != nil {
										itemsMap2["result_value"] = items.ResultValue
									}

									valuesList := make([]map[string]interface{}, 0, len(items.Values))
									if items.Values != nil {
										for _, values := range items.Values {
											valuesMap := map[string]interface{}{}

											if values.ValueType != nil {
												valuesMap["value_type"] = values.ValueType
											}

											if values.Value != nil {
												valuesMap["value"] = values.Value
											}

											valuesList = append(valuesList, valuesMap)
										}

										itemsMap2["values"] = valuesList
									}
									if items.Operator != nil {
										itemsMap2["operator"] = items.Operator
									}

									if items.CompareType != nil {
										itemsMap2["compare_type"] = items.CompareType
									}

									if items.ValueComputeType != nil {
										itemsMap2["value_compute_type"] = items.ValueComputeType
									}

									itemsList2 = append(itemsList2, itemsMap2)
								}

								compareResultMap["items"] = itemsList2
							}
							if ruleExecResultVOList.CompareResult.TotalRows != nil {
								compareResultMap["total_rows"] = ruleExecResultVOList.CompareResult.TotalRows
							}

							if ruleExecResultVOList.CompareResult.PassRows != nil {
								compareResultMap["pass_rows"] = ruleExecResultVOList.CompareResult.PassRows
							}

							if ruleExecResultVOList.CompareResult.TriggerRows != nil {
								compareResultMap["trigger_rows"] = ruleExecResultVOList.CompareResult.TriggerRows
							}

							if ruleExecResultVOList.CompareResult.ComputeExpression != nil {
								compareResultMap["compute_expression"] = ruleExecResultVOList.CompareResult.ComputeExpression
							}

							ruleExecResultVOListMap["compare_result"] = []interface{}{compareResultMap}
						}

						if ruleExecResultVOList.TemplateName != nil {
							ruleExecResultVOListMap["template_name"] = ruleExecResultVOList.TemplateName
						}

						if ruleExecResultVOList.QualityDim != nil {
							ruleExecResultVOListMap["quality_dim"] = ruleExecResultVOList.QualityDim
						}

						if ruleExecResultVOList.TargetDBTableName != nil {
							ruleExecResultVOListMap["target_db_table_name"] = ruleExecResultVOList.TargetDBTableName
						}

						if ruleExecResultVOList.TargetObjectValue != nil {
							ruleExecResultVOListMap["target_object_value"] = ruleExecResultVOList.TargetObjectValue
						}

						if ruleExecResultVOList.TargetObjectDataType != nil {
							ruleExecResultVOListMap["target_object_data_type"] = ruleExecResultVOList.TargetObjectDataType
						}

						fieldConfigMap := map[string]interface{}{}

						if ruleExecResultVOList.FieldConfig != nil {
							whereConfigList := make([]map[string]interface{}, 0, len(ruleExecResultVOList.FieldConfig.WhereConfig))
							if ruleExecResultVOList.FieldConfig.WhereConfig != nil {
								for _, whereConfig := range ruleExecResultVOList.FieldConfig.WhereConfig {
									whereConfigMap := map[string]interface{}{}

									if whereConfig.FieldKey != nil {
										whereConfigMap["field_key"] = whereConfig.FieldKey
									}

									if whereConfig.FieldValue != nil {
										whereConfigMap["field_value"] = whereConfig.FieldValue
									}

									if whereConfig.FieldDataType != nil {
										whereConfigMap["field_data_type"] = whereConfig.FieldDataType
									}

									valueConfigMap := map[string]interface{}{}

									if whereConfig.ValueConfig != nil {
										if whereConfig.ValueConfig.FieldKey != nil {
											valueConfigMap["field_key"] = whereConfig.ValueConfig.FieldKey
										}

										if whereConfig.ValueConfig.FieldValue != nil {
											valueConfigMap["field_value"] = whereConfig.ValueConfig.FieldValue
										}

										if whereConfig.ValueConfig.FieldDataType != nil {
											valueConfigMap["field_data_type"] = whereConfig.ValueConfig.FieldDataType
										}

										whereConfigMap["value_config"] = []interface{}{valueConfigMap}
									}

									whereConfigList = append(whereConfigList, whereConfigMap)
								}

								fieldConfigMap["where_config"] = whereConfigList
							}
							tableConfigList := make([]map[string]interface{}, 0, len(ruleExecResultVOList.FieldConfig.TableConfig))
							if ruleExecResultVOList.FieldConfig.TableConfig != nil {
								for _, tableConfig := range ruleExecResultVOList.FieldConfig.TableConfig {
									tableConfigMap := map[string]interface{}{}

									if tableConfig.DatabaseId != nil {
										tableConfigMap["database_id"] = tableConfig.DatabaseId
									}

									if tableConfig.DatabaseName != nil {
										tableConfigMap["database_name"] = tableConfig.DatabaseName
									}

									if tableConfig.TableId != nil {
										tableConfigMap["table_id"] = tableConfig.TableId
									}

									if tableConfig.TableName != nil {
										tableConfigMap["table_name"] = tableConfig.TableName
									}

									if tableConfig.TableKey != nil {
										tableConfigMap["table_key"] = tableConfig.TableKey
									}

									fieldConfigList := make([]map[string]interface{}, 0, len(tableConfig.FieldConfig))
									if tableConfig.FieldConfig != nil {
										for _, fieldConfig := range tableConfig.FieldConfig {
											fieldConfigMap := map[string]interface{}{}

											if fieldConfig.FieldKey != nil {
												fieldConfigMap["field_key"] = fieldConfig.FieldKey
											}

											if fieldConfig.FieldValue != nil {
												fieldConfigMap["field_value"] = fieldConfig.FieldValue
											}

											if fieldConfig.FieldDataType != nil {
												fieldConfigMap["field_data_type"] = fieldConfig.FieldDataType
											}

											valueConfigMap := map[string]interface{}{}

											if fieldConfig.ValueConfig != nil {
												if fieldConfig.ValueConfig.FieldKey != nil {
													valueConfigMap["field_key"] = fieldConfig.ValueConfig.FieldKey
												}

												if fieldConfig.ValueConfig.FieldValue != nil {
													valueConfigMap["field_value"] = fieldConfig.ValueConfig.FieldValue
												}

												if fieldConfig.ValueConfig.FieldDataType != nil {
													valueConfigMap["field_data_type"] = fieldConfig.ValueConfig.FieldDataType
												}

												fieldConfigMap["value_config"] = []interface{}{valueConfigMap}
											}

											fieldConfigList = append(fieldConfigList, fieldConfigMap)
										}

										tableConfigMap["field_config"] = fieldConfigList
									}
									tableConfigList = append(tableConfigList, tableConfigMap)
								}

								fieldConfigMap["table_config"] = tableConfigList
							}
							ruleExecResultVOListMap["field_config"] = []interface{}{fieldConfigMap}
						}

						if ruleExecResultVOList.RelConditionExpr != nil {
							ruleExecResultVOListMap["rel_condition_expr"] = ruleExecResultVOList.RelConditionExpr
						}

						if ruleExecResultVOList.StartTime != nil {
							ruleExecResultVOListMap["start_time"] = ruleExecResultVOList.StartTime
						}

						if ruleExecResultVOList.AlarmLevel != nil {
							ruleExecResultVOListMap["alarm_level"] = ruleExecResultVOList.AlarmLevel
						}

						if ruleExecResultVOList.TriggerCondition != nil {
							ruleExecResultVOListMap["trigger_condition"] = ruleExecResultVOList.TriggerCondition
						}

						if ruleExecResultVOList.RuleGroupName != nil {
							ruleExecResultVOListMap["rule_group_name"] = ruleExecResultVOList.RuleGroupName
						}

						if ruleExecResultVOList.DatasourceId != nil {
							ruleExecResultVOListMap["datasource_id"] = ruleExecResultVOList.DatasourceId
						}

						if ruleExecResultVOList.DatasourceName != nil {
							ruleExecResultVOListMap["datasource_name"] = ruleExecResultVOList.DatasourceName
						}

						if ruleExecResultVOList.DatabaseName != nil {
							ruleExecResultVOListMap["database_name"] = ruleExecResultVOList.DatabaseName
						}

						if ruleExecResultVOList.SchemaName != nil {
							ruleExecResultVOListMap["schema_name"] = ruleExecResultVOList.SchemaName
						}

						if ruleExecResultVOList.TableName != nil {
							ruleExecResultVOListMap["table_name"] = ruleExecResultVOList.TableName
						}

						if ruleExecResultVOList.RuleGroupExist != nil {
							ruleExecResultVOListMap["rule_group_exist"] = ruleExecResultVOList.RuleGroupExist
						}

						if ruleExecResultVOList.DatasourceType != nil {
							ruleExecResultVOListMap["datasource_type"] = ruleExecResultVOList.DatasourceType
						}

						if ruleExecResultVOList.RuleGroupTableId != nil {
							ruleExecResultVOListMap["rule_group_table_id"] = ruleExecResultVOList.RuleGroupTableId
						}

						if ruleExecResultVOList.MonitorType != nil {
							ruleExecResultVOListMap["monitor_type"] = ruleExecResultVOList.MonitorType
						}

						if ruleExecResultVOList.FinishTime != nil {
							ruleExecResultVOListMap["finish_time"] = ruleExecResultVOList.FinishTime
						}

						if ruleExecResultVOList.GroupType != nil {
							ruleExecResultVOListMap["group_type"] = ruleExecResultVOList.GroupType
						}

						if ruleExecResultVOList.AspectTaskId != nil {
							ruleExecResultVOListMap["aspect_task_id"] = ruleExecResultVOList.AspectTaskId
						}

						if ruleExecResultVOList.CatalogName != nil {
							ruleExecResultVOListMap["catalog_name"] = ruleExecResultVOList.CatalogName
						}

						ruleExecResultVOListList = append(ruleExecResultVOListList, ruleExecResultVOListMap)
					}

					itemsMap["rule_exec_result_vo_list"] = ruleExecResultVOListList
				}
				if items.DatabaseName != nil {
					itemsMap["database_name"] = items.DatabaseName
				}

				if items.RuleGroupTableId != nil {
					itemsMap["rule_group_table_id"] = items.RuleGroupTableId
				}

				if items.ClusterDeployType != nil {
					itemsMap["cluster_deploy_type"] = items.ClusterDeployType
				}

				if items.InstanceId != nil {
					itemsMap["instance_id"] = items.InstanceId
				}

				if items.DsEnvType != nil {
					itemsMap["ds_env_type"] = items.DsEnvType
				}

				if items.ProjectId != nil {
					itemsMap["project_id"] = items.ProjectId
				}

				if items.ProjectName != nil {
					itemsMap["project_name"] = items.ProjectName
				}

				if items.InstanceStatus != nil {
					itemsMap["instance_status"] = items.InstanceStatus
				}

				if items.StartTime != nil {
					itemsMap["start_time"] = items.StartTime
				}

				if items.FinishTime != nil {
					itemsMap["finish_time"] = items.FinishTime
				}

				if items.RuleGroupName != nil {
					itemsMap["rule_group_name"] = items.RuleGroupName
				}

				if items.RuleGroupExist != nil {
					itemsMap["rule_group_exist"] = items.RuleGroupExist
				}

				if items.BizCatalogName != nil {
					itemsMap["biz_catalog_name"] = items.BizCatalogName
				}

				if items.BizCatalogId != nil {
					itemsMap["biz_catalog_id"] = items.BizCatalogId
				}

				if items.FailMsg != nil {
					itemsMap["fail_msg"] = items.FailMsg
				}

				itemsList = append(itemsList, itemsMap)
			}

			dataMap["items"] = itemsList
		}
		_ = d.Set("data", []interface{}{dataMap})
	}

	d.SetId(helper.DataResourceIdsHash(ids))

	output, ok := d.GetOk("result_output_file")
	if ok && output.(string) != "" {
		if e := tccommon.WriteToFile(output.(string), dataMap); e != nil {
			return e
		}
	}

	return nil
}
