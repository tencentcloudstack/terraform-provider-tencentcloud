# OpenSpec ææ¡ˆåˆ›å»ºæ€»ç»“

## âœ… ææ¡ˆåˆ›å»ºå®Œæˆ

æˆ‘å·²æˆåŠŸä¸ºæ‚¨åˆ›å»ºäº†å®Œæ•´çš„ OpenSpec ææ¡ˆï¼Œç”¨äºæ–°å¢ **`tencentcloud_dnspod_line_group`** èµ„æºã€‚

---

## ğŸ“‹ ææ¡ˆæ¦‚è§ˆ

**Change ID**: `add-dnspod-line-group-resource`  
**èµ„æºç±»å‹**: Resource (Terraform ç®¡ç†èµ„æº)  
**äº‘æœåŠ¡**: DNSPodï¼ˆè…¾è®¯äº‘åŸŸåè§£ææœåŠ¡ï¼‰  
**åŠŸèƒ½**: ç®¡ç† DNSPod è‡ªå®šä¹‰çº¿è·¯åˆ†ç»„

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### API æ˜ å°„

| Terraform æ“ä½œ | äº‘ API æ¥å£ | è¯´æ˜ |
|----------------|-------------|------|
| Create | `CreateLineGroup` | åˆ›å»ºçº¿è·¯åˆ†ç»„ |
| Read | `DescribeLineGroupList` | æŸ¥è¯¢çº¿è·¯åˆ†ç»„åˆ—è¡¨ |
| Update | `ModifyLineGroup` | ä¿®æ”¹çº¿è·¯åˆ†ç»„ |
| Delete | `DeleteLineGroup` | åˆ é™¤çº¿è·¯åˆ†ç»„ |

**API ç‰ˆæœ¬**: `2021-03-23`  
**SDK çŠ¶æ€**: âœ… å·²æ”¯æŒï¼ˆå·²éªŒè¯ï¼‰

### èµ„æºå®šä¹‰

```hcl
resource "tencentcloud_dnspod_line_group" "example" {
  domain = "example.com"              # å¿…å¡«ï¼ŒForceNew
  name   = "telecom-group"            # å¿…å¡«ï¼Œå¯æ›´æ–°
  lines  = ["ç”µä¿¡", "ç§»åŠ¨", "è”é€š"]    # å¿…å¡«ï¼Œå¯æ›´æ–°
  
  # domain_id = 1005                  # å¯é€‰ï¼ŒForceNewï¼Œä¼˜å…ˆçº§é«˜äº domain
}

# è¾“å‡ºï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰
output "line_group_id" {
  value = tencentcloud_dnspod_line_group.example.line_group_id
}

output "created_on" {
  value = tencentcloud_dnspod_line_group.example.created_on
}

output "updated_on" {
  value = tencentcloud_dnspod_line_group.example.updated_on
}
```

### èµ„æº ID æ ¼å¼

**æ ¼å¼**: `{domain}#{line_group_id}`  
**ç¤ºä¾‹**: `example.com#123`

**å¯¼å…¥å‘½ä»¤**:
```bash
terraform import tencentcloud_dnspod_line_group.example example.com#123
```

---

## ğŸ“ å·²åˆ›å»ºæ–‡ä»¶

### 1. proposal.md (12.5 KB)
**è·¯å¾„**: `openspec/changes/add-dnspod-line-group-resource/proposal.md`

**åŒ…å«å†…å®¹**:
- âœ… èƒŒæ™¯ä¸åŠ¨æœºï¼ˆé—®é¢˜æè¿°ã€ç”¨æˆ·éœ€æ±‚ã€ä¸šåŠ¡ä»·å€¼ï¼‰
- âœ… è®¾è®¡æ–¹æ¡ˆï¼ˆAPI æ˜ å°„ã€èµ„æºå®šä¹‰ã€Schema è®¾è®¡ï¼‰
- âœ… ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆCRUD æ“ä½œè¯¦ç»†æµç¨‹ï¼‰
- âœ… å­—æ®µæ˜ å°„ç»†èŠ‚ï¼ˆLines æ ¼å¼è½¬æ¢ã€éªŒè¯è§„åˆ™ï¼‰
- âœ… é”™è¯¯å¤„ç†ç­–ç•¥ï¼ˆå¸¸è§é”™è¯¯ã€é‡è¯•æœºåˆ¶ï¼‰
- âœ… å®æ–½è®¡åˆ’ï¼ˆ4 ä¸ªé˜¶æ®µï¼Œ4 å¤©å·¥ä½œé‡ï¼‰
- âœ… ç¤ºä¾‹ä»£ç ï¼ˆåŸºç¡€ã€å®Œæ•´ã€é›†æˆç¤ºä¾‹ï¼‰
- âœ… é£é™©è¯„ä¼°ï¼ˆæŠ€æœ¯ã€å…¼å®¹æ€§ã€ç”¨æˆ·ä½“éªŒï¼‰
- âœ… éªŒæ”¶æ ‡å‡†ï¼ˆåŠŸèƒ½ã€è´¨é‡ã€æ€§èƒ½ï¼‰
- âœ… å¾…å†³äº‹é¡¹ï¼ˆ4 ä¸ªè®¾è®¡å†³ç­–ï¼‰
- âœ… å‚è€ƒèµ„æ–™ï¼ˆAPI æ–‡æ¡£ã€SDK æ–‡æ¡£ï¼‰

### 2. tasks.md (10.8 KB)
**è·¯å¾„**: `openspec/changes/add-dnspod-line-group-resource/tasks.md`

**ä»»åŠ¡ç»Ÿè®¡**:
- **14 ä¸ªä¸»è¦é˜¶æ®µ**
- **113 ä¸ªè¯¦ç»†å­ä»»åŠ¡**
- **é¢„è®¡å·¥ä½œé‡**: 4 å¤©

**é˜¶æ®µåˆ†è§£**:
1. Schema å®šä¹‰ä¸èµ„æºåˆ›å»ºï¼ˆ6 ä¸ªå­ä»»åŠ¡ï¼‰
2. Create å‡½æ•°å®ç°ï¼ˆ8 ä¸ªå­ä»»åŠ¡ï¼‰
3. Read å‡½æ•°å®ç°ï¼ˆ8 ä¸ªå­ä»»åŠ¡ï¼‰
4. Update å‡½æ•°å®ç°ï¼ˆ9 ä¸ªå­ä»»åŠ¡ï¼‰
5. Delete å‡½æ•°å®ç°ï¼ˆ7 ä¸ªå­ä»»åŠ¡ï¼‰
6. Service å±‚æ–¹æ³•ï¼ˆ4 ä¸ªå­ä»»åŠ¡ï¼‰
7. æµ‹è¯•ç”¨ä¾‹ï¼ˆ6 ä¸ªå­ä»»åŠ¡ï¼‰
8. æ–‡æ¡£ç¼–å†™ï¼ˆ7 ä¸ªå­ä»»åŠ¡ï¼‰
9. æ³¨å†Œä¸é›†æˆï¼ˆ4 ä¸ªå­ä»»åŠ¡ï¼‰
10. ä»£ç è´¨é‡ï¼ˆ4 ä¸ªå­ä»»åŠ¡ï¼‰
11. OpenSpec è§„èŒƒï¼ˆ5 ä¸ªå­ä»»åŠ¡ï¼‰
12. éªŒæ”¶æµ‹è¯•ï¼ˆ5 ä¸ªå­ä»»åŠ¡ï¼‰
13. æœ€ç»ˆéªŒè¯ï¼ˆ6 ä¸ªå­ä»»åŠ¡ï¼‰
14. é”™è¯¯åœºæ™¯æµ‹è¯•ï¼ˆ5 ä¸ªå­ä»»åŠ¡ï¼‰

### 3. spec.md (11.3 KB)
**è·¯å¾„**: `openspec/changes/add-dnspod-line-group-resource/specs/dnspod-line-group/spec.md`

**åŒ…å«å†…å®¹**:
- âœ… **7 ä¸ª ADDED Requirements**
- âœ… **28 ä¸ª Scenarios**ï¼ˆæ¯ä¸ª Requirement 3-5 ä¸ªåœºæ™¯ï¼‰
- âœ… ä¾èµ–å…³ç³»ï¼ˆå†…éƒ¨ä¾èµ–ã€å¤–éƒ¨ä¾èµ–ï¼‰
- âœ… éåŠŸèƒ½æ€§éœ€æ±‚ï¼ˆæ€§èƒ½ã€å¯é æ€§ã€å®‰å…¨æ€§ã€å…¼å®¹æ€§ï¼‰
- âœ… éªŒæ”¶æ ‡å‡†ï¼ˆ10 æ¡ï¼‰

**Requirements æ¸…å•**:
1. **Req-1**: æ”¯æŒåˆ›å»ºçº¿è·¯åˆ†ç»„ï¼ˆ5 ä¸ªåœºæ™¯ï¼‰
2. **Req-2**: æ”¯æŒæŸ¥è¯¢çº¿è·¯åˆ†ç»„ä¿¡æ¯ï¼ˆ3 ä¸ªåœºæ™¯ï¼‰
3. **Req-3**: æ”¯æŒä¿®æ”¹çº¿è·¯åˆ†ç»„ï¼ˆ5 ä¸ªåœºæ™¯ï¼‰
4. **Req-4**: æ”¯æŒåˆ é™¤çº¿è·¯åˆ†ç»„ï¼ˆ3 ä¸ªåœºæ™¯ï¼‰
5. **Req-5**: æ”¯æŒå¯¼å…¥ç°æœ‰çº¿è·¯åˆ†ç»„ï¼ˆ3 ä¸ªåœºæ™¯ï¼‰
6. **Req-6**: Lines å­—æ®µæ ¼å¼è½¬æ¢ï¼ˆ4 ä¸ªåœºæ™¯ï¼‰
7. **Req-7**: é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶ï¼ˆ5 ä¸ªåœºæ™¯ï¼‰

---

## ğŸ” è®¾è®¡äº®ç‚¹

### 1. å®Œæ•´çš„ CRUD æ”¯æŒ
- âœ… Create: æ”¯æŒ domain å’Œ domain_id ä¸¤ç§æ–¹å¼
- âœ… Read: åˆ—è¡¨è¿‡æ»¤æŸ¥è¯¢ï¼Œè‡ªåŠ¨å¤„ç†èµ„æºä¸å­˜åœ¨
- âœ… Update: æ”¯æŒä¿®æ”¹ name å’Œ lines
- âœ… Delete: å¹‚ç­‰æ€§å¤„ç†ï¼Œå®¹å¿èµ„æºå·²åˆ é™¤
- âœ… Import: æ ‡å‡†æ ¼å¼ `domain#line_group_id`

### 2. å­—æ®µæ ¼å¼è½¬æ¢
**é—®é¢˜**: API ä½¿ç”¨é€—å·åˆ†éš”å­—ç¬¦ä¸²ï¼ŒTerraform ä½¿ç”¨å­—ç¬¦ä¸²åˆ—è¡¨

**è§£å†³æ–¹æ¡ˆ**:
- **Create/Update**: `strings.Join(lines, ",")`
- **Read**: `strings.Split(apiLines, ",")`

### 3. é”™è¯¯å¤„ç†ç­–ç•¥
- **é€Ÿç‡é™åˆ¶**: é€šè¿‡ `ratelimit.Check()` æ§åˆ¶
- **é‡è¯•æœºåˆ¶**: 
  - å†™æ“ä½œ: 5 åˆ†é’Ÿè¶…æ—¶
  - è¯»æ“ä½œ: 1 åˆ†é’Ÿè¶…æ—¶
- **å¹‚ç­‰æ€§**: Delete æ“ä½œå®¹å¿èµ„æºä¸å­˜åœ¨
- **å‹å¥½æç¤º**: æ‰€æœ‰ä¸šåŠ¡é”™è¯¯è¿”å›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

### 4. æ•°æ®ä¸€è‡´æ€§
- æ‰€æœ‰æ“ä½œåè°ƒç”¨ Read åˆ·æ–°çŠ¶æ€
- èµ„æºä¸å­˜åœ¨æ—¶æ­£ç¡®æ¸…ç©º ID
- nil å€¼å®‰å…¨å¤„ç†

### 5. ä¸å¯å˜å­—æ®µ
- `domain` æ ‡è®°ä¸º ForceNewï¼ˆå˜æ›´è§¦å‘é‡å»ºï¼‰
- `domain_id` æ ‡è®°ä¸º ForceNew
- Update å‡½æ•°æ˜¾å¼æ£€æŸ¥ï¼Œè¿”å›å‹å¥½é”™è¯¯

---

## ğŸš€ å®æ–½è·¯å¾„

### Phase 1: æ ¸å¿ƒåŠŸèƒ½ (2 å¤©)
```
resource_tc_dnspod_line_group.go
â”œâ”€â”€ Schema å®šä¹‰
â”œâ”€â”€ Create å‡½æ•°
â”œâ”€â”€ Read å‡½æ•°
â”œâ”€â”€ Update å‡½æ•°
â”œâ”€â”€ Delete å‡½æ•°
â””â”€â”€ Import é…ç½®
```

### Phase 2: Service å±‚ (0.5 å¤©)
```
service_tencentcloud_dnspod.go
â””â”€â”€ DescribeDnspodLineGroupById() æ–¹æ³•
```

### Phase 3: æµ‹è¯• (1 å¤©)
```
resource_tc_dnspod_line_group_test.go
â”œâ”€â”€ TestAccTencentCloudDnspodLineGroup_basic
â”œâ”€â”€ TestAccTencentCloudDnspodLineGroup_import
â””â”€â”€ TestAccTencentCloudDnspodLineGroup_multipleLines
```

### Phase 4: æ–‡æ¡£ä¸é›†æˆ (0.5 å¤©)
```
resource_tc_dnspod_line_group.md
provider.go (æ³¨å†Œèµ„æº)
ä»£ç è´¨é‡æ£€æŸ¥
```

---

## ğŸ“Š éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶
- [ ] å¯ä»¥æˆåŠŸåˆ›å»ºçº¿è·¯åˆ†ç»„ï¼ˆä½¿ç”¨ domain æˆ– domain_idï¼‰
- [ ] å¯ä»¥æŸ¥è¯¢çº¿è·¯åˆ†ç»„ä¿¡æ¯
- [ ] å¯ä»¥ä¿®æ”¹çº¿è·¯åˆ†ç»„åç§°
- [ ] å¯ä»¥ä¿®æ”¹çº¿è·¯åˆ†ç»„çš„çº¿è·¯åˆ—è¡¨
- [ ] å¯ä»¥åˆ é™¤çº¿è·¯åˆ†ç»„
- [ ] æ”¯æŒå¯¼å…¥ç°æœ‰çº¿è·¯åˆ†ç»„
- [ ] Domain å­—æ®µå˜æ›´è§¦å‘é‡å»º

### è´¨é‡éªŒæ”¶
- [ ] æ‰€æœ‰éªŒæ”¶æµ‹è¯•é€šè¿‡ï¼ˆ`TF_ACC=1 go test`ï¼‰
- [ ] ä»£ç é€šè¿‡ `go fmt` æ ¼å¼åŒ–
- [ ] ä»£ç é€šè¿‡ `golangci-lint` æ£€æŸ¥
- [ ] æ–‡æ¡£åŒ…å«å®Œæ•´ç¤ºä¾‹å’Œå‚æ•°è¯´æ˜
- [ ] é”™è¯¯å¤„ç†è¦†ç›–æ‰€æœ‰ API é”™è¯¯ç 

### æ€§èƒ½éªŒæ”¶
- [ ] Create æ“ä½œåœ¨ 10 ç§’å†…å®Œæˆ
- [ ] Read æ“ä½œåœ¨ 5 ç§’å†…å®Œæˆ
- [ ] Update æ“ä½œåœ¨ 10 ç§’å†…å®Œæˆ
- [ ] Delete æ“ä½œåœ¨ 10 ç§’å†…å®Œæˆ

---

## ğŸ’¡ å…³é”®æŠ€æœ¯å†³ç­–

### 1. Service å±‚æ–¹æ³•
**å†³ç­–**: æ·»åŠ  `DescribeDnspodLineGroupById()` æ–¹æ³•  
**ç†ç”±**: ç®€åŒ– Read é€»è¾‘ï¼Œæé«˜ä»£ç å¯è¯»æ€§

### 2. Lines å­—æ®µæ’åº
**å†³ç­–**: ä¸æ’åºï¼Œä¿æŒç”¨æˆ·å®šä¹‰é¡ºåº  
**ç†ç”±**: API ä¸å¼ºåˆ¶æ’åºï¼Œä¿æŒç”¨æˆ·æ„å›¾

### 3. DomainId å­—æ®µ
**å†³ç­–**: æš´éœ²ç»™ç”¨æˆ·ï¼Œå¯é€‰ä½¿ç”¨  
**ç†ç”±**: æ–¹ä¾¿é«˜çº§ç”¨æˆ·ä½¿ç”¨ï¼Œä¼˜å…ˆçº§é«˜äº domain

### 4. ä¸è®°å½•èµ„æºçš„é›†æˆ
**å†³ç­–**: ä¸åœ¨æ­¤ææ¡ˆèŒƒå›´  
**ç†ç”±**: ä½œä¸ºæœªæ¥æ‰©å±•ï¼Œä¿æŒææ¡ˆèšç„¦

---

## ğŸ”— å‚è€ƒèµ„æ–™

### API æ–‡æ¡£
- [CreateLineGroup API](https://cloud.tencent.com/document/api/1427/112219)
- [DescribeLineGroupList API](https://cloud.tencent.com/document/api/1427/112216)
- [ModifyLineGroup API](https://cloud.tencent.com/document/api/1427/112215)
- [DeleteLineGroup API](https://cloud.tencent.com/document/api/1427/112217)

### SDK éªŒè¯
- âœ… SDK è·¯å¾„: `vendor/github.com/tencentcloud/tencentcloud-sdk-go/tencentcloud/dnspod/v20210323`
- âœ… æ‰€æœ‰ API å·²åŒ…å«åœ¨ SDK ä¸­
- âœ… ç‰ˆæœ¬: `2021-03-23`

### é¡¹ç›®è§„èŒƒ
- [é¡¹ç›®ä¸Šä¸‹æ–‡](openspec/project.md)
- [ç°æœ‰èµ„æºç¤ºä¾‹](tencentcloud/services/dnspod/resource_tc_dnspod_record_group.go)

---

## ğŸ“ ä¸‹ä¸€æ­¥æ“ä½œ

### æŸ¥çœ‹ææ¡ˆ
```bash
openspec show add-dnspod-line-group-resource
```

### éªŒè¯ææ¡ˆï¼ˆå¯é€‰ï¼‰
```bash
openspec validate add-dnspod-line-group-resource --strict
```

### å¼€å§‹å®æ–½
```bash
@command://openspec:apply
```

æˆ–è€…æ‚¨å¯ä»¥å…ˆå®¡æŸ¥ææ¡ˆå†…å®¹ï¼Œç¡®è®¤è®¾è®¡æ— è¯¯åå†å¼€å§‹å®æ–½ã€‚

---

## âœ… ææ¡ˆå®Œæ•´æ€§æ£€æŸ¥

- âœ… **proposal.md**: 12.5 KBï¼ŒåŒ…å«å®Œæ•´è®¾è®¡æ–‡æ¡£
- âœ… **tasks.md**: 10.8 KBï¼ŒåŒ…å« 113 ä¸ªè¯¦ç»†ä»»åŠ¡
- âœ… **specs/dnspod-line-group/spec.md**: 11.3 KBï¼ŒåŒ…å« 7 ä¸ª Requirements å’Œ 28 ä¸ª Scenarios
- âœ… **API ç ”ç©¶**: 4 ä¸ª API æ–‡æ¡£å·²è¯¦ç»†åˆ†æ
- âœ… **SDK éªŒè¯**: å·²ç¡®è®¤ SDK æ”¯æŒ
- âœ… **å‚è€ƒä»£ç **: å·²ç ”ç©¶ç°æœ‰ DNSPod èµ„æºå®ç°
- âœ… **ææ¡ˆçŠ¶æ€**: OpenSpec å·²è¯†åˆ«ï¼ˆ`openspec show` æˆåŠŸï¼‰

---

## ğŸ‰ æ€»ç»“

ææ¡ˆåˆ›å»ºå·¥ä½œå·² **100% å®Œæˆ**ï¼åŒ…å«ï¼š
- **å®Œæ•´çš„è®¾è®¡æ–‡æ¡£**ï¼ˆèƒŒæ™¯ã€æ–¹æ¡ˆã€å®æ–½ã€é£é™©ã€éªŒæ”¶ï¼‰
- **è¯¦ç»†çš„ä»»åŠ¡æ¸…å•**ï¼ˆ113 ä¸ªå­ä»»åŠ¡ï¼Œ14 ä¸ªé˜¶æ®µï¼‰
- **è§„èŒƒçš„ Spec Delta**ï¼ˆ7 ä¸ª Requirementsï¼Œ28 ä¸ª Scenariosï¼‰
- **æ¸…æ™°çš„å®æ–½è·¯å¾„**ï¼ˆ4 å¤©å·¥ä½œé‡ï¼‰

æ‚¨ç°åœ¨å¯ä»¥ï¼š
1. å®¡æŸ¥ææ¡ˆå†…å®¹ï¼Œç¡®è®¤è®¾è®¡ç¬¦åˆé¢„æœŸ
2. ä½¿ç”¨ `@command://openspec:apply` å¼€å§‹å®æ–½
3. æˆ–è€…å…ˆä¸å›¢é˜Ÿè®¨è®ºè®¾è®¡æ–¹æ¡ˆ

ç¥å¼€å‘é¡ºåˆ©ï¼ğŸš€
